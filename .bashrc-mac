# Set the paths
PATH=~/bin:/opt/local/bin:/opt/local/sbin:/usr/local/bin:/usr/local/sbin:/Volumes/Data/jesse/.gem/ruby/1.8/bin:~/dev/android/tools:${PATH}

# leverage nventory for ssh connections
nvssh () {
  ssh $(nv --exclude status=decom --name $1 | head -n1)
}

nvrssh () {
  ssh -l root $(nv --exclude status=decom --name $1 | head -n1)
}

nvcssh () {
  csshX $(nv --exclude status=decom --name $1 | awk -v ORS=' ' 1) 
}

nvami () {
  nv  --objecttype node_groups --exactget name=aws1 --get graffitis[name]=$1 --fields value
}

nvlistami () {
  nv --objecttype node_groups --exactget name=aws1 --get graffitis[name]=ami --field name,value
}

# AWS tools
if [[ -d $HOME/dev/svn/operations/cg-cloud-tools/trunk ]]; then
  AWS_BASE_DIR=$HOME/dev/svn/operations/cg-cloud-tools/trunk
  AWS_CRED_DIR=$HOME/dev/creds/aws
  PROJECT_CRED_DIR=$HOME/dev/creds/project_cred
  PROJECT_BASE_DIR=$HOME/dev/svn/operations/cg-cloud-tools/aws-projects
  PYTHONPATH=$PYTHONPATH:${AWS_BASE_DIR}/python_libs:/Users/escobedoj/dev/boto
  PATH=${PATH}:${AWS_BASE_DIR}/bin
  export AWS_BASE_DIR AWS_CRED_DIR PROJECT_CRED_DIR PROJECT_BASE_DIR PYTHONPATH PATH

  # Generate aws alias profiles for each account
  for account in $(find $AWS_CRED_DIR -mindepth 1 -maxdepth 1 -type d -print | sed 's@.*/@@'); do
    alias aws${account}="unset AWS_CREDENTIAL_FILE
    eval \`awsprofile ${account}\`"
  done

fi

# set title prompts
export PROMPT_COMMAND='echo -ne "\033]0;${USER}@${HOSTNAME%%.*}\007"'
